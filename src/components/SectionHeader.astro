---
interface Props {
  title: string;
  tagline?: string;
  color?: string;
  align?: 'start' | 'center';
  titleFontSize?: string;
  smTitleFontSize?: string;
  taglineFontSize?: string;
  smTaglineFontSize?: string;
}

const {
  align = 'center',
  tagline,
  title,
  color = 'var(--gray-200)',
  titleFontSize = 'var(--text-5xl)',
  smTitleFontSize = 'var(--text-3xl)',
  taglineFontSize = 'var(--text-xl)',
  smTaglineFontSize = 'var(--text-lg)',
} = Astro.props;
---

<header class:list={['stack section-header gap-4', align]}>
  <div class="stack gap-2">
    <h1 class="title">{title}</h1>
    {tagline && <p class="tagline">{tagline}</p>}
  </div>
  <slot />
</header>

<style define:vars={{ color, titleFontSize, smTitleFontSize, taglineFontSize, smTaglineFontSize }}>
  .section-header {
    text-align: center;
  }

  .title,
  .tagline {
    max-width: 37ch;
    margin-inline: auto;
    color: var(--color);
  }

  .start {
    text-align: start;
  }

  .title {
    width: max-content;
    position: relative;
    text-align: center;
    overflow-wrap: break-word;
    max-width: 100%;
    font-size: var(--smTitleFontSize);
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .tagline {
    font-size: var(--smTaglineFontSize);
  }

  @media only screen and (min-width: 50em) {
    .start {
      text-align: start;
    }

    .start .title,
    .start .tagline {
      margin-inline: unset;
    }

    .title {
      font-size: var(--titleFontSize);
    }

    .tagline {
      font-size: var(--taglineFontSize);
    }

    .title::before,
    .title::after {
      background-color: var(--color);
      content: ' ';
      position: absolute;

      width: 54%;
      height: 1px;
      display: inline-block;
    }

    .title::before {
      top: -0.75rem;
      left: 0%;
    }

    .title::after {
      bottom: -0.75rem;
      right: 0%;
    }
  }

  @media only screen and (max-width: 50em) {
    .title::before {
      background-color: var(--color);
      content: ' ';
      position: absolute;
      bottom: -0.5rem;
      width: 100px;
      height: 1px;
      display: inline-block;
      left: calc(50% - 50px);
    }
  }
</style>
